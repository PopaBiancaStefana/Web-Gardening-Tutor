<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Register</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="../styles/signin.css">
    </head>

    <body>

        <header class="main-header">
            <div class="container">
              <a class="logo" href="#">
                <img src="../images/logo2.png" alt="Logo" />
              </a>
      
              <nav>
                <ul>
                  <li><a href="myProfile.html">Profile</a></li>
                  <li><a href="courses.html">Courses</a></li>
                  <li><a href="leaderboard.html">Leaderboard</a></li>
                </ul>
              </nav>
            </div>
        </header>

        <main>
            <div class="login-panel">
                <img src="../images/logo2.png" alt="GT-logo" class="login-logo">
                <h1 class="connect-way">Register</h1>
                <form class="login-form" action="register">
                    <input type="text" name="name" id="name" placeholder="Enter your name" required>
                    <input type="email" name="email" id="email" placeholder="Enter your email" required >
                    <input type="password" name="password" id="password" placeholder="Enter your password" required pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters">
                    <input type="password" name="confirm-password" id="confirm-password" placeholder="Confirm password" required>
                    <div id="message">
                        <h3>Password must contain the following:</h3>
                        <p id="letter" class="invalid"> A <b>lowercasae</b> letter</p>
                        <p id="capital" class="invalid"> A <b>capital</b> letter</p>
                        <p id="digit" class="invalid"> A <b>digit</b></p>
                        <p id="length" class="invalid"> Minimum <b>8 characters</b></p>
                    </div>
                    <input type="submit" value="Sign up">
                </form>
                <div class="alternative-connect">
                    <a href="login.html">Already have an acount?</a>
                </div>
                
            </div>
        </main>

        <footer></footer>

        <script>
            var password = document.getElementById("password");
            var confirm_password = document.getElementById("confirm-password");
            var letter = document.getElementById("letter");
            var capital = document.getElementById("capital");
            var digit = document.getElementById("digit");
            var length = document.getElementById("length");

            password.onfocus = function(){
                document.getElementById("message").style.display = "block";
            }

            password.onblur = function(){
                document.getElementById("message").style.display = "none";
            }

            password.onkeyup = function() { //validate password in real time
                var lowercasaeLetters = /[a-z]/g;
                if(password.value.match(lowercasaeLetters)){
                    letter.classList.remove("invalid");
                    letter.classList.add("valid");
                } else {
                    letter.classList.remove("valid");
                    letter.classList.add("invalid");
                }

                var uppercaserLetters = /[A-Z]/g;
                if(password.value.match(uppercaserLetters)) {
                    capital.classList.remove("invalid");
                    capital.classList.add("valid");
                } else {
                    capital.classList.remove("valid");
                    capital.classList.add("invalid");
                }

                var numbers = /[0-9]/g;
                if(password.value.match(numbers)) {
                    digit.classList.remove("invalid");
                    digit.classList.add("valid");
                } else {
                    digit.classList.remove("valid");
                    digit.classList.add("invalid");
                }

                if(password.value.length >= 8) {
                    length.classList.remove("invalid");
                    length.classList.add("valid");
                } else {
                    length.classList.remove("valid");
                    length.classList.add("invalid");
                }
            }


            function checkPasswordEquality(){
                if(password.value != confirm_password.value) {
                    confirm_password.setCustomValidity("Passwords Don't Match");
                } else {
                    confirm_password.setCustomValidity('');
                }
            }

            password.onchange = checkPasswordEquality;
            confirm_password.onkeyup = checkPasswordEquality;
        </script>
        
    </body>
</html>